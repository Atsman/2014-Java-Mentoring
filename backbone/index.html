<!Doctype HTML>
<html>

<head>
    <title>Links</title>
    <link href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css" media="all" rel="stylesheet" type="text/css" />
    <script type="text/javascript" src="js/libs/jquery-1.11.1.min.js"></script>
    <script type="text/javascript" src="js/libs/underscore.js"></script>
    <script type="text/javascript" src="js/libs/backbone.js"></script>
    <script type="text/javascript" src="js/app/app.js"></script>
    <script type="text/javascript" src="js/app/models/link.js"></script>
    <script type="text/javascript" src="js/app/views/link.js"></script>
    <script type="text/javascript" src="js/app/views/index.js"></script>
    <script type="text/javascript" src="js/app/views/create.js"></script>
    <script type="text/javascript" src="js/app/views/edit.js"></script>
</head>

<body>

    <div class="container">
        <div class="page-header">
            <h1>Backbone.js Links app</h1>
        </div>
        <div class="row">
            <div class="col-md-8" id="primary-content">
                <!-- the container that gets populated with the index -->
            </div>
        </div>
    </div>

    <script type="text/template" id="indexTemplate">
        <div class="well">
            <a class="btn btn-block btn-large btn-info" href="#link/new">Create New Note</a>
        </div>
        <table class="table table-striped">
            <thead>
                <tr>
                    <th width="20%">Title</th>
                    <th width="20%">Author</th>
                    <th>Description</th>
                    <th></th>
                </tr>
            </thead>
            <tbody></tbody>
        </table>
    </script>

    <script type="text/template" id="rowTemplate">
    <td><a href="#link/<%= id %>/edit"><%= title %></a></td>
    <td><%= href %></td>
    <td><%= target %></td>
    <td>
      <a href="#" class="delete btn btn-danger btn-small">delete</a>
    </td>
    </script>

    <script type="text/jst" id="formTemplate">
        <div class="well">
            <div class="alert alert-danger fade in" style="display:none;"></div>
            <form>
                <div class="form-group">
                    <label>Text:</label>
                    <input type="text" class="form-control" name="title" value="<%= title %>" />
                </div>
                <div class="form-group">
                    <label>Href:</label>
                    <input type="text" class="form-control" name="href" value="<%= href %>" />
                </div>
                <div class="form-group">
                    <label>Target:</label>
                    <input type="text" class="form-control" name="target" value="<%= target %>" />
                </div>
                <button class="save btn btn-large btn-info" type="submit">Save</button>
                <a href="#link/index" class="btn btn-large">Cancel</a>
            </form>
        </div>
    </script>

    <!-- kick off the app -->
    <script type="text/javascript">
	    var router = new APP.LinkRouter({
	        links: new APP.LinkCollection()
	    });
	    router.links.reset([{
            "id":0,
	        "title": "google",
	        "href": "http://google.com",
	        "target": "blank"
	    },
        {
            "id":1,
            "title": "epam",
            "href": "http://epam.com",
            "target": "blank"
        }]);
	    Backbone.history.start();
    </script>

</body>

</html>
